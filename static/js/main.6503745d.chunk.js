(this["webpackJsonpgenshin-timeline"]=this["webpackJsonpgenshin-timeline"]||[]).push([[0],{62:function(e,t,n){},64:function(e,t,n){},93:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(19),i=n.n(c),o=(n(62),n(9)),s=n.n(o),l=n(16),u=n(15),b=(n(64),n(123)),d=n(120),h=n(112),j=n(121),g=n(39),f=n(110),m=n(111),p=n(113),x=n(114),O=n(115),v=n(116),k=n(117),y=n(107),w=n(50),C=n.n(w),S=n(109),E=n(122),I=n(6),A=n(47),T=n.n(A),M=n(4),Y=Object(y.a)((function(e){return{characterAvatar:{width:e.spacing(7),height:e.spacing(7),margin:e.spacing(1),border:"1px solid",boxShadow:"0px 2px 4px 0px #00000069, 0px 1px 0px 0px #f1f1f1","& > img":{background:"radial-gradient(circle, rgba(255,255,255,1) 10%, rgba(255,255,255,0) 70%)",marginTop:"-20%",backgroundPosition:"0 12px",backgroundRepeat:"no-repeat",width:"120%",height:"120%"}},characterAvatarSmall:{width:e.spacing(3),height:e.spacing(3),boxShadow:"none",margin:0},characterAvatar4Stars:{background:"linear-gradient(144deg, rgba(2,0,36,1) 0%, rgba(105,9,121,1) 35%, rgba(196,0,255,1) 100%)",borderColor:"#7e2c96"},characterAvatar5Stars:{background:"linear-gradient(144deg, rgba(91,55,0,1) 0%, rgba(242,130,10,1) 42%, rgba(255,188,0,1) 100%)",borderColor:"#de790d"}}})),N=Object(I.a)((function(e){return{badge:{background:"#00406d",width:"20px",height:"20px",borderRadius:"10px",right:"18%",bottom:"18%",border:"2px solid ".concat(e.palette.background.paper)}}}))(S.a),D=Object(I.a)((function(e){return{badge:{width:14,minWidth:14,height:14,borderRadius:7,border:0,right:0,bottom:0}}}))(N),F=Object(I.a)((function(e){return{badge:{background:"#00406d",color:"#fff",right:"-10%",bottom:"25%"}}}))(N),L=Object(I.a)((function(e){return{root:{width:20,height:20}}}))(E.a),R=Object(I.a)((function(e){return{root:{width:12,height:12}}}))(L);var q=function(e){var t=e.character,n=e.small,r=void 0!==n&&n,c=e.constellation,i=void 0===c||c,o=Y(),s=r?D:N,l=Object(a.useMemo)((function(){return Object(M.jsx)(s,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:r?Object(M.jsx)(R,{src:t.element.url}):Object(M.jsx)(L,{src:t.element.url}),children:Object(M.jsx)(E.a,{alt:t.name,src:t.data.images.sideicon,className:T()(o.characterAvatar,"4"===t.data.rarity&&o.characterAvatar4Stars,"5"===t.data.rarity&&o.characterAvatar5Stars,r&&o.characterAvatarSmall)})})}),[t,o,r]);return i?Object(M.jsx)(F,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"left"},badgeContent:t.constellation,children:l}):l},z=Object(y.a)((function(e){return{container:{width:"100%",alignSelf:"center"},genshinTimelineItem:{"&:nth-child(even) > .MuiTimelineItem-content":{display:"block"}},charactersContainer:{display:"flex",marginTop:"-16px"}}}));function B(e){var t=e.element,n=z(),a=t.characters.some((function(e){return"5"===e.data.rarity})),r=t.characters.some((function(e){return"c6"===e.constellation}));return Object(M.jsxs)(f.a,{className:n.genshinTimelineItem,children:[Object(M.jsx)(m.a,{children:Object(M.jsx)(h.a,{variant:"body2",color:"textSecondary",children:t.date.format("DD/MM/YYYY")})}),Object(M.jsxs)(p.a,{children:[Object(M.jsx)(x.a,{style:r?{background:"#005ab1"}:{background:"#373737"},children:Object(M.jsx)(C.a,{style:a?{color:"#ffaf00"}:{}})}),Object(M.jsx)(O.a,{})]}),Object(M.jsx)(v.a,{className:n.charactersContainer,children:t.characters.map((function(e,t){return Object(M.jsx)(q,{character:e},t)}))})]})}var G=function(e){var t=e.timelineElements,n=z();return Object(M.jsx)("div",{className:n.container,children:Object(M.jsx)(k.a,{align:"alternate",children:t&&t.map((function(e,t){return Object(M.jsx)(B,{element:e},t)}))})})},P="494997772091-kiecjfft59fo5hvkaom6gj490v6tmqkc.apps.googleusercontent.com",H="https://www.googleapis.com/auth/spreadsheets.readonly",J=["https://sheets.googleapis.com/$discovery/rest?version=v4"];function Q(e){return e.client.init({client_id:P,scope:H,discoveryDocs:J})}var K=n(118),W=Object(y.a)((function(e){return{root:{display:"flex",height:"100%",width:"100%",alignItems:"center",justifyContent:"center"}}}));var X=function(){var e=W();return Object(M.jsx)("div",{className:e.root,children:Object(M.jsx)(K.a,{})})},$=n(12),_=n(23),U=n(34),V=n.n(U),Z=n(40),ee=n.n(Z);ee.a.locale("ru");var te={"\u0410\u043d\u0435\u043c\u043e":"Anemo","\u041a\u0440\u0438\u043e":"Cryo","\u0414\u0435\u043d\u0434\u0440\u043e":"Dendro","\u042d\u043b\u0435\u043a\u0442\u0440\u043e":"Electro","\u0413\u0435\u043e":"Geo","\u0413\u0438\u0434\u0440\u043e":"Hydro","\u041f\u0438\u0440\u043e":"Pyro"};function ne(e){var t={},n=[];return e.forEach((function(e,a){0!==a&&9!==a||(n=e),(a>=1&&a<=7||a>=10&&a<=16)&&e.forEach((function(e,r){var c;if(e&&0!==r){var i={queryLanguages:["Russian"],resultLanguage:"Russian"},o=V.a.characters(n[r],i);if(o){var s=V.a.constellations(n[r],i).images,l=V.a.elements(te[o.element]);t[e]=Object(_.a)(Object(_.a)({},t[e]||{}),{},{date:ee()(e,"DD/MM/YYYY"),characters:[].concat(Object($.a)((null===(c=t[e])||void 0===c?void 0:c.characters)||[]),[{name:n[r],data:o,element:l,constellationImages:s,constellation:"c".concat((a-(a>=10?10:1)).toString())}])})}else console.error(n[r])}}))})),Object.values(t).sort((function(e,t){return e.date.unix()-t.date.unix()}))}var ae=n(51),re=n(125),ce=n(119),ie=Object(y.a)((function(e){return{container:{position:"fixed",top:e.spacing(8),display:"flex",width:"100%",alignItems:"center",justifyContent:"center",padding:e.spacing(1),background:"white",boxShadow:"0px 2px 4px -1px rgb(0 0 0 / 20%), 0px 4px 5px 0px rgb(0 0 0 / 14%), 0px 1px 10px 0px rgb(0 0 0 / 12%)",zIndex:1}}}));var oe=function(e){var t=e.timelineElements,n=(e.filteredTimelineElements,e.setFilteredTimelineElements),r=ie(),c=Object(a.useState)([]),i=Object(u.a)(c,2),o=i[0],s=i[1];Object(a.useEffect)((function(){n(t)}),[t,n]);var l=Object(a.useMemo)((function(){return t.reduce((function(e,t){return[].concat(Object($.a)(e),Object($.a)(t.characters))}),[])}),[t]),b=Object(a.useMemo)((function(){return Object(ae.uniqBy)(l,(function(e){return e.name}))}),[l]),d=Object(a.useCallback)((function(e,a){if(s(a),0!==a.length){var r=t.map((function(e){var t=e.characters.filter((function(e){return a.includes(e.name)}));return Object(_.a)(Object(_.a)({},e),{},{characters:t})}));n(r.filter((function(e){return 0!==e.characters.length})))}else n(t)}),[t,n]);return Object(M.jsx)("div",{className:r.container,children:Object(M.jsx)(re.a,{size:"small",value:o,onChange:d,children:b.map((function(e,t){return Object(M.jsx)(ce.a,{value:e.name,children:Object(M.jsx)(q,{character:e,small:!0,constellation:!1})},t)}))})})},se=Object(y.a)((function(e){return{container:{marginTop:e.spacing(17)}}})),le="1jQb1n1dpYMFmhd9Gf07CXeTBILHAofc3eh8qwkmkKQE",ue="Timeline v2";var be=function(){var e=se(),t=Object(a.useState)(!1),n=Object(u.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(!1),o=Object(u.a)(i,2),f=o[0],m=o[1],p=Object(a.useState)(!1),x=Object(u.a)(p,2),O=x[0],v=x[1],k=Object(a.useState)(!1),y=Object(u.a)(k,2),w=y[0],C=y[1],S=Object(a.useCallback)((function(){r&&m(r.auth2.getAuthInstance().isSignedIn.get())}),[r]);Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.b)();case 2:return t=e.sent,e.next=5,Object(g.a)(t,P,H);case 5:return e.next=7,Q(t);case 7:c(t),S();case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[r,S]);var E=Object(a.useCallback)((function(){r.auth2.getAuthInstance().signIn().then((function(){return S()}))}),[r,S]),I=Object(a.useCallback)((function(){r.auth2.getAuthInstance().signOut().then((function(){return S()}))}),[r,S]);return Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.client.sheets.spreadsheets.values.get({spreadsheetId:le,range:ue});case 2:t=e.sent,n=t.result.values,v(ne(n));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}r&&function(){e.apply(this,arguments)}()}),[r]),Object(M.jsxs)("div",{className:"App",children:[Object(M.jsx)(b.a,{position:"fixed",children:r&&Object(M.jsxs)(d.a,{children:[Object(M.jsx)(h.a,{variant:"h6",style:{flexGrow:1,textAlign:"left"},children:"Genshin Timeline"}),f?Object(M.jsx)(j.a,{color:"inherit",onClick:I,children:"\u0412\u044b\u0439\u0442\u0438"}):Object(M.jsx)(j.a,{color:"inherit",onClick:E,children:"\u0412\u043e\u0439\u0442\u0438"})]})}),(!r||void 0===f||!O)&&Object(M.jsx)(X,{}),r&&f&&O&&Object(M.jsxs)("div",{className:e.container,children:[Object(M.jsx)(G,{timelineElements:w}),Object(M.jsx)(oe,{timelineElements:O,filteredTimelineElements:w,setFilteredTimelineElements:C})]})]})},de=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,126)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};i.a.render(Object(M.jsx)(r.a.StrictMode,{children:Object(M.jsx)(be,{})}),document.getElementById("root")),de()}},[[93,1,2]]]);
//# sourceMappingURL=main.6503745d.chunk.js.map