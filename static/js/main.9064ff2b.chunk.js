(this["webpackJsonpgenshin-timeline"]=this["webpackJsonpgenshin-timeline"]||[]).push([[0],{57:function(e,t,n){},59:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(19),i=n.n(c),o=(n(57),n(8)),s=n.n(o),l=n(11),u=n(17),h=(n(59),n(118)),d=n(115),b=n(109),g=n(116),j=n(37),f=n(15),p=n(38),x=n(39),m=n.n(x),O=n(32),v=n.n(O),y=n(106),k=n(117),w=n(107),A=n(108),C=n(110),I=n(111),S=n(112),T=n(113),Y=n(114),E=n(103),D=n(6),M=n(49),N=n.n(M),F=n(47),L=n.n(F),G=n(105),P=n(4),R=Object(E.a)((function(e){return{root:{display:"flex",height:"100%",width:"100%",alignItems:"center",justifyContent:"center"}}}));var q=function(){var e=R();return Object(P.jsx)("div",{className:e.root,children:Object(P.jsx)(G.a,{})})};m.a.locale("ru");var B=Object(E.a)((function(e){return{container:{width:"100%",alignSelf:"center"},genshinTimelineItem:{"&:nth-child(even) > .MuiTimelineItem-content":{display:"block"}},charactersContainer:{display:"flex",marginTop:"-16px"},characterAvatar:{width:e.spacing(7),height:e.spacing(7),margin:e.spacing(1),border:"1px solid",boxShadow:"0px 2px 4px 0px #00000069, 0px 1px 0px 0px #f1f1f1","& > img":{background:"radial-gradient(circle, rgba(255,255,255,1) 10%, rgba(255,255,255,0) 70%)",marginTop:"-20%",backgroundPosition:"0 12px",backgroundRepeat:"no-repeat",width:"120%",height:"120%"}},characterAvatar4Stars:{background:"linear-gradient(144deg, rgba(2,0,36,1) 0%, rgba(105,9,121,1) 35%, rgba(196,0,255,1) 100%)",borderColor:"#7e2c96"},characterAvatar5Stars:{background:"linear-gradient(144deg, rgba(91,55,0,1) 0%, rgba(242,130,10,1) 42%, rgba(255,188,0,1) 100%)",borderColor:"#de790d"},constellationAvatar:{filter:"brightness(200%) contrast(200%)"}}})),z="1jQb1n1dpYMFmhd9Gf07CXeTBILHAofc3eh8qwkmkKQE",H="Timeline v2",J={"\u0410\u043d\u0435\u043c\u043e":"Anemo","\u041a\u0440\u0438\u043e":"Cryo","\u0414\u0435\u043d\u0434\u0440\u043e":"Dendro","\u042d\u043b\u0435\u043a\u0442\u0440\u043e":"Electro","\u0413\u0435\u043e":"Geo","\u0413\u0438\u0434\u0440\u043e":"Hydro","\u041f\u0438\u0440\u043e":"Pyro"};function Q(e){var t={},n=[];return e.forEach((function(e,a){0!==a&&9!==a||(n=e),(a>=1&&a<=7||a>=10&&a<=16)&&e.forEach((function(e,r){var c;if(e&&0!==r){var i={queryLanguages:["Russian"],resultLanguage:"Russian"},o=v.a.characters(n[r],i);if(o){var s=v.a.constellations(n[r],i).images,l=v.a.elements(J[o.element]);t[e]=Object(p.a)(Object(p.a)({},t[e]||{}),{},{date:m()(e,"DD/MM/YYYY"),characters:[].concat(Object(f.a)((null===(c=t[e])||void 0===c?void 0:c.characters)||[]),[{name:n[r],data:o,element:l,constellationImages:s,constellation:"c".concat((a-(a>=10?10:1)).toString())}])})}else console.error(n[r])}}))})),Object.values(t).sort((function(e,t){return e.date.unix()-t.date.unix()}))}var K=Object(D.a)((function(e){return{badge:{background:"#00406d",width:"20px",height:"20px",borderRadius:"10px",right:"18%",bottom:"18%",border:"2px solid ".concat(e.palette.background.paper)}}}))(y.a),X=Object(D.a)((function(e){return{badge:{background:"#00406d",color:"#fff",right:"-10%",bottom:"25%"}}}))(K),$=Object(D.a)((function(e){return{root:{width:20,height:20}}}))(k.a);function _(e){var t=e.character,n=B();return Object(P.jsx)(X,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"center"},badgeContent:t.constellation,children:Object(P.jsx)(K,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:Object(P.jsx)($,{src:t.element.url}),children:Object(P.jsx)(k.a,{alt:t.name,src:t.data.images.sideicon,className:L()(n.characterAvatar,"4"===t.data.rarity&&n.characterAvatar4Stars,"5"===t.data.rarity&&n.characterAvatar5Stars)})})})}function U(e){var t=e.element,n=B(),a=t.characters.some((function(e){return"5"===e.data.rarity})),r=t.characters.some((function(e){return"c6"===e.constellation}));return Object(P.jsxs)(w.a,{className:n.genshinTimelineItem,children:[Object(P.jsx)(A.a,{children:Object(P.jsx)(b.a,{variant:"body2",color:"textSecondary",children:t.date.format("DD/MM/YYYY")})}),Object(P.jsxs)(C.a,{children:[Object(P.jsx)(I.a,{style:r?{background:"#005ab1"}:{background:"#373737"},children:Object(P.jsx)(N.a,{style:a?{color:"#ffaf00"}:{}})}),Object(P.jsx)(S.a,{})]}),Object(P.jsx)(T.a,{className:n.charactersContainer,children:t.characters.map((function(e,t){return Object(P.jsx)(_,{character:e},t)}))})]})}var V=function(e){var t=Object(a.useState)(!1),n=Object(u.a)(t,2),r=n[0],c=n[1],i=B();return Object(a.useEffect)((function(){function t(){return(t=Object(l.a)(s.a.mark((function t(){var n,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.gapi.client.sheets.spreadsheets.values.get({spreadsheetId:z,range:H});case 2:n=t.sent,a=n.result.values,c(Q(a));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),r?(console.log({timelineElements:r}),Object(P.jsx)("div",{className:i.container,children:Object(P.jsx)(Y.a,{align:"alternate",children:r.map((function(e,t){return Object(P.jsx)(U,{element:e},t)}))})})):Object(P.jsx)(q,{})},W="494997772091-kiecjfft59fo5hvkaom6gj490v6tmqkc.apps.googleusercontent.com",Z="https://www.googleapis.com/auth/spreadsheets.readonly",ee=["https://sheets.googleapis.com/$discovery/rest?version=v4"];function te(e){return e.client.init({client_id:W,scope:Z,discoveryDocs:ee})}var ne=function(){var e=Object(a.useState)(!1),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),i=Object(u.a)(c,2),o=i[0],f=i[1];function p(){n&&f(n.auth2.getAuthInstance().isSignedIn.get())}return Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.b)();case 2:return t=e.sent,e.next=5,Object(j.a)(t,W,Z);case 5:return e.next=7,te(t);case 7:r(t),p();case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n]),Object(P.jsxs)("div",{className:"App",children:[Object(P.jsx)(h.a,{position:"sticky",children:n&&Object(P.jsxs)(d.a,{children:[Object(P.jsx)(b.a,{variant:"h6",style:{flexGrow:1,textAlign:"left"},children:"Genshin Timeline"}),o?Object(P.jsx)(g.a,{color:"inherit",onClick:function(){n.auth2.getAuthInstance().signOut().then((function(){return p()}))},children:"\u0412\u044b\u0439\u0442\u0438"}):Object(P.jsx)(g.a,{color:"inherit",onClick:function(){n.auth2.getAuthInstance().signIn().then((function(){return p()}))},children:"\u0412\u043e\u0439\u0442\u0438"})]})}),(!n||void 0===o)&&Object(P.jsx)(q,{}),n&&o&&Object(P.jsx)(V,{gapi:n})]})},ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,120)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};i.a.render(Object(P.jsx)(r.a.StrictMode,{children:Object(P.jsx)(ne,{})}),document.getElementById("root")),ae()}},[[87,1,2]]]);
//# sourceMappingURL=main.9064ff2b.chunk.js.map